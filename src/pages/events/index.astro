---
import { getCollection } from "astro:content";
import EventiIndexCard from "../../components/EventiIndexCard.astro";
import Layout from "../../layouts/Layout.astro";
import Header from "../../sections/Header";
import { getLandingData } from "../../services/data.service";

const data = await getLandingData();
const events = await getCollection("events");
---

<Layout meta={data.meta}>
  <Header client:load data={data.headerData} />
  <main class="col-8 container">
    <div class="mt-24 row blog-section-title">
      <h2 class="leading-6 blog-section-title">Eventi</h2>
      <p class="text-gray-500 leading-6">
        Partecipa ai principali eventi del settore #tech
      </p>
      {
        events
          .slice()
          .reverse()
          .map((events) => <EventiIndexCard events={events} />)
      }
    </div>
    <!--! qui va il footer -->
  </main>
</Layout>

<style>
  h2 {
    margin-top: 200px;
    font-weight: 500;
  }
  .container {
    width: 100%;
    padding-right: 15px;
    padding-left: 15px;
    margin-right: auto;
    margin-left: auto;
}
  @media (max-width: 1200px) {
    .container {
      max-width: 1140px !important;
    }
  }
  @media (max-width: 992px) {
    .container {
      max-width: 960px !important;
    }
	.blog-section-title {
    text-align: center;
}
  }

  @media (max-width: 768px) {
    .container {
      max-width: 720px !important;
    }
  }
  @media (max-width: 576px) {
    .container {
      max-width: 540px !important;
    }
  }
</style>
