---
import { CollectionEntry, getCollection, getEntry } from "astro:content";
import DettaglioBlog from "../../components/DettaglioBlog.astro";
import DettaglioSocial from "../../components/DettaglioSocial.astro";
import MarkdownWrapper from "../../layouts/MarkdownWrapper.astro";

export async function getStaticPaths() {
  const posts = await getCollection("posts");
  return posts.map((e) => ({
    params: { slug: e.slug },
    props: { e },
  }));
}
type Props = {
  e: CollectionEntry<"posts">;
};
const { e } = Astro.props;
// const { Content } = await e.render();
const { data: authorDate } = await getEntry("team", e.data.author.id);
---

<MarkdownWrapper frontmatter={e.data}>
  <img src={authorDate.headshot} alt="cioa" class="w-full rounded-full" />

  <p class="text-center font-bold">{authorDate.name}</p>

  <div class="container mt-52 flex flex-wrap justify-center">
    <div id="Colonna" class="w-full md:w-1/3 lg:w-1/4 px-4 pb-8">
      <DettaglioSocial />
    </div>
    <div class="w-full  md:w-3/3 lg:w-3/4 px-4 pb-8">
      <div class="flex justify-center items-center content-center">
        <DettaglioBlog e={e} />
      </div>
    </div>
  </div>
</MarkdownWrapper>

<style>
  @media (max-width: 1024px) {
    #Colonna {
      display: none;
    }
  }
</style>
